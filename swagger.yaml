openapi: 3.0.0
info:
  title: dgoval export updated
  version: 1.0.0
  description: ''
servers:
  - url: '{{DGOVAL_BASE_URL}}'
paths:
  /auth/signup:
    post:
      summary: auth sign up
      tags:
        - auth
      responses: {}
      description: >-
        ## Sign Up Endpoint


        **Endpoint:**
        `https://rcyjzmhu57.execute-api.eu-west-1.amazonaws.com/auth/signup`  

        **Method:** `POST`


        This endpoint is used to register a new user in the system. The request
        requires the user to provide their email, password, first name, last
        name, and confirmation that they have accepted the terms of service.


        ### Request Body Parameters


        - **email** (string): The email address of the user.
            
        - **password** (string): The password chosen by the user.
            
        - **firstName** (string): The first name of the user.
            
        - **lastName** (string): The last name of the user.
            
        - **hasAcceptedTerms** (boolean): Indicates whether the user has
        accepted the terms of service.
            

        ### Response


        On a successful registration, the server responds with a status code of
        `201` and a JSON object indicating the success of the operation.


        - **success** (boolean): Indicates whether the signup was successful.
            
        - **message** (string): A message providing additional context (may be
        empty).
            

        Ensure that all required fields are provided in the request to
        successfully create a new user account.


        This endpoint allows users to create a new account by providing their
        personal details. It is designed to facilitate user registration in the
        system.


        ### Request


        - **Method**: POST
            
        - **URL**:
        `https://rcyjzmhu57.execute-api.eu-west-1.amazonaws.com/auth/signup`
            

        #### Request Body


        The request body must be a JSON object containing the following
        parameters:


        - `email` (string): The user's email address. This will be used for
        account verification and login.
            
        - `password` (string): The user's chosen password. It should meet the
        security requirements set by the application.
            
        - `firstName` (string): The user's first name.
            
        - `lastName` (string): The user's last name.
            
        - `hasAcceptedTerms` (boolean): A flag indicating whether the user has
        accepted the terms and conditions of the service.
            

        **Example Request Body**:


        ``` json

        {
          "email": "user@example.com",
          "password": "securePassword123",
          "firstName": "John",
          "lastName": "Doe",
          "hasAcceptedTerms": true
        }

         ```

        ### Response


        On successful account creation, the API will return a response with the
        following structure:


        - **Status Code**: 201 (Created)
            
        - **Content-Type**: text/plain
            
        - **Response Body**:
            
            - `success` (boolean): Indicates whether the signup was successful.
                
            - `message` (string): A message providing additional information about the signup process (may be empty).
                

        **Example Response**:


        ``` json

        {
          "success": true,
          "message": ""
        }

         ```

        ### Summary


        This endpoint is essential for onboarding new users by collecting their
        necessary information and confirming their acceptance of terms. A
        successful response indicates that the user has been registered and can
        proceed to log in.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
                firstName:
                  type: string
                lastName:
                  type: string
  /auth/signin:
    post:
      summary: signin
      tags:
        - auth
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
  /auth/signout:
    post:
      summary: signout
      tags:
        - auth
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
  /auth/forgot-password:
    post:
      summary: forgot-password
      tags:
        - auth
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
  /auth/reset-password:
    post:
      summary: reset-password
      tags:
        - auth
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                newPassword:
                  type: string
  /auth/verify-reset-password:
    post:
      summary: verify-reset-password
      tags:
        - auth
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                otp:
                  type: string
                  format: color
                email:
                  type: string
                  format: email
  /auth/verify-otp:
    post:
      summary: verify otp
      tags:
        - auth
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                otp:
                  type: string
                  format: color
  /auth/resend-otp:
    post:
      summary: resend otp
      tags:
        - auth
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
  /auth/refresh-token:
    post:
      summary: refresh token
      tags:
        - auth
      parameters:
        - name: Cookie
          in: header
          schema:
            type: string
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
  /api/payment/confirm:
    post:
      summary: confirm payment on success
      tags:
        - signup payment
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                paymentStatus:
                  type: string
                providerTxReference:
                  type: string
                paymentId:
                  type: string
  /api/payment/plans:
    get:
      summary: Fetch payment plans
      tags:
        - signup payment
      responses: {}
  /api/payment/plans/select:
    post:
      summary: select payment plan
      tags:
        - signup payment
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                planId:
                  type: string
                companyId:
                  type: string
                userId:
                  type: string
                provider:
                  type: string
                callbackUrl:
                  type: string
                  format: uri
  /api/surveys/templates/01KA0ZJYTBD28PWHJ929ZFW06N/metadata:
    patch:
      summary: update template metadata
      tags:
        - survey
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                companyId:
                  type: string
                title:
                  type: string
                description:
                  type: string
  /api/surveys/templates/01KA0ZE56JZFXMWZGE23VAN688/copy:
    post:
      summary: Copy or Duplicate template
      tags:
        - survey
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                companyId:
                  type: string
  /api/surveys/templates/01KA0ZTV53940PTFHPVS2XXJYV/questions:
    put:
      summary: Update template questions
      tags:
        - survey
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                companyId:
                  type: string
                questions:
                  type: array
                  items:
                    type: object
                    properties:
                      position:
                        type: integer
                      text:
                        type: string
                      type:
                        type: string
                      required:
                        type: boolean
                      skippable:
                        type: boolean
                      helpText:
                        type: string
                      likert:
                        type: object
                        properties:
                          scaleMinLabel:
                            type: string
                          scaleMaxLabel:
                            type: string
                          scalePoints:
                            type: integer
  /api/surveys/templates/01KAV9RAJN1XTRHR79SGKQWQKZ/autosave:
    put:
      summary: Auto save template
      tags:
        - survey
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
  /api/surveys/templates/01KA0ZJYTBD28PWHJ929ZFW06P/publish:
    post:
      summary: Publish template
      tags:
        - survey
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                companyId:
                  type: string
                questions:
                  type: array
                  items:
                    type: object
                    properties:
                      position:
                        type: integer
                      text:
                        type: string
                      type:
                        type: string
                      required:
                        type: boolean
                      skippable:
                        type: boolean
                      helpText:
                        type: string
                      likert:
                        type: object
                        properties:
                          scaleMinLabel:
                            type: string
                          scaleMaxLabel:
                            type: string
                          scalePoints:
                            type: integer
  /api/surveys/backoffice/templates:
    post:
      summary: create survey template Backoffice Dgoval
      tags:
        - survey
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
                questions:
                  type: array
                  items:
                    type: object
                    properties:
                      position:
                        type: integer
                      text:
                        type: string
                      type:
                        type: string
                      required:
                        type: boolean
                      skippable:
                        type: boolean
                      helpText:
                        type: string
                      likert:
                        type: object
                        properties:
                          scaleMinLabel:
                            type: string
                          scaleMaxLabel:
                            type: string
                          scalePoints:
                            type: integer
    get:
      summary: list templates by dgoval
      tags:
        - survey
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: limit
          in: query
          schema:
            type: integer
        - name: sort
          in: query
          schema:
            type: string
        - name: sortBy
          in: query
          schema:
            type: string
      responses: {}
      security:
        - BearerAuth: []
  /api/surveys/01K9DA5HM0406JZ1PP322VA1M8/templates:
    get:
      summary: list all templates for selected company
      tags:
        - survey
      parameters:
        - name: sortBy
          in: query
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
        - name: page
          in: query
          schema:
            type: integer
        - name: sort
          in: query
          schema:
            type: string
      responses: {}
      security:
        - BearerAuth: []
  /api/surveys/templates/01KA0ZJYTBD28PWHJ929ZFW06N/versions:
    get:
      summary: list template versions
      tags:
        - survey
      responses: {}
      security:
        - BearerAuth: []
  /api/surveys/01KA0ZJYTBD28PWHJ929ZFW06N/templates/details:
    get:
      summary: get template
      tags:
        - survey
      responses: {}
      security:
        - BearerAuth: []
  /api/surveys/templates/metadata:
    post:
      summary: create survey template metadata
      tags:
        - survey
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                companyId:
                  type: string
                title:
                  type: string
                description:
                  type: string
  /api/surveys/01KA0ZJYTB28PWHJ929ZFW06N/template:
    delete:
      summary: delete template
      tags:
        - survey
      responses: {}
      security:
        - BearerAuth: []
  /api/companies/logo/upload:
    post:
      summary: upload logo
      tags:
        - signup company
      responses: {}
  /api/companies:
    post:
      summary: create company
      tags:
        - signup company
      responses: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                logoUrl:
                  type: string
                  format: uri
                name:
                  type: string
                category:
                  type: string
                industry:
                  type: string
                address:
                  type: string
                userId:
                  type: string
    get:
      summary: list companies for user
      tags:
        - company branding
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                logoUrl:
                  type: string
                  format: uri
                name:
                  type: string
                category:
                  type: string
                industry:
                  type: string
                address:
                  type: string
  /api/orgs/01K9DA5HM0406JZ1PP322VA1M8/invites:
    post:
      summary: Create Invite
      tags:
        - Team invite
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                role:
                  type: string
                firstName:
                  type: string
                lastName:
                  type: string
                loginUrl:
                  type: string
                  format: uri
  /api/orgs/01K9DA5HM0406JZ1PP322VA1M8/members:
    put:
      summary: update member
      tags:
        - Team invite
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
  /auth/first-login/set-password:
    post:
      summary: First sign in
      tags:
        - Team invite
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                currentPassword:
                  type: string
                newPassword:
                  type: string
  /api/orgs/01K9DA5HM0406JZ1PP322VA1M8/invites/resend:
    post:
      summary: Resend invite
      tags:
        - Team invite
      parameters:
        - name: Authorization
          in: header
          schema:
            type: string
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                loginUrl:
                  type: string
                  format: uri
  /api/orgs/{COMPANY_ID}/members/deactivate:
    post:
      summary: deactivate user
      tags:
        - Team invite
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/01K9DA5HM0406JZ1PP322VA1M8/members/reactivate:
    post:
      summary: reactivate user
      tags:
        - Team invite
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                loginUrl:
                  type: string
                  format: uri
  /api/orgs/invites/template:
    get:
      summary: Download csv template
      tags:
        - Team invite
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                loginUrl:
                  type: string
                role:
                  type: string
                firstName:
                  type: string
                lastName:
                  type: string
  /api/orgs/{COMPANY_ID}/invites/csv/parse:
    post:
      summary: parse bulk csv
      tags:
        - Team invite
      responses: {}
      security:
        - BearerAuth: []
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/{COMPANY_ID}/invites/csv:
    post:
      summary: bulk send invites csv array
      tags:
        - Team invite
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                members:
                  type: array
                  items:
                    type: object
                    properties:
                      first_name:
                        type: string
                        format: color
                      last_name:
                        type: string
                      email:
                        type: string
                        format: email
                      role:
                        type: string
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/01K9DHNRHY9CBXGTASXZH8B3AV/team:
    get:
      summary: list members
      tags:
        - Team invite
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: limit
          in: query
          schema:
            type: integer
        - name: sortBy
          in: query
          schema:
            type: string
      responses: {}
      security:
        - BearerAuth: []
  /api/orgs/{COMPANY_ID}/members/csv/export:
    get:
      summary: export team members
      tags:
        - Team invite
      responses: {}
      security:
        - BearerAuth: []
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/01KB7K5RRYC6XM6YAB5Q6ZXA28/members:
    delete:
      summary: delete member
      tags:
        - Team invite
      responses: {}
      security:
        - BearerAuth: []
  /api/orgs/01K9DA5HM0406JZ1PP322VA1M8/logo:
    delete:
      summary: delete logo
      tags:
        - company branding
      responses: {}
      security:
        - BearerAuth: []
    put:
      summary: put company logo branding
      tags:
        - company branding
      responses: {}
      security:
        - BearerAuth: []
  /api/orgs/01K9DA5HM0406JZ1PP322VA1M8/details:
    put:
      summary: update company details
      tags:
        - company branding
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                address:
                  type: string
    get:
      summary: get company details
      tags:
        - company branding
      responses: {}
      security:
        - BearerAuth: []
  /api/orgs/01K9DA5HM0406JZ1PP322VA1M8/branding:
    put:
      summary: put company branding
      tags:
        - company branding
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                primaryHex:
                  type: string
                  format: color
                secondaryHex:
                  type: string
                  format: color
                revisionId:
                  type: string
  /api/orgs/{COMPANY_ID}/board-members:
    get:
      summary: List board members
      tags:
        - Board members
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: limit
          in: query
          schema:
            type: integer
        - name: sort
          in: query
          schema:
            type: string
        - name: sortBy
          in: query
          schema:
            type: string
      responses: {}
      security:
        - BearerAuth: []
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
    post:
      summary: create board members
      tags:
        - Board members
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                lastName:
                  type: string
                email:
                  type: string
                  format: email
                position:
                  type: string
                category:
                  type: string
                committee:
                  type: string
  /api/orgs/{COMPANY_ID}/board-members/{memberId}/update:
    patch:
      summary: update board members
      tags:
        - Board members
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                memberId:
                  type: string
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/{COMPANY_ID}/board-members/{memberId}/delete:
    delete:
      summary: delete board member
      tags:
        - Board members
      responses: {}
      security:
        - BearerAuth: []
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/{COMPANY_ID}/board-members/export:
    get:
      summary: export board members
      tags:
        - Board members
      responses: {}
      security:
        - BearerAuth: []
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/01K9DHNRHY9CBXGTASXZH8B3AV/board-members/bulk:
    post:
      summary: bulk create board members
      tags:
        - Board members
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                members:
                  type: array
                  items:
                    type: object
                    properties:
                      first_name:
                        type: string
                      last_name:
                        type: string
                      email:
                        type: string
                        format: email
                      position:
                        type: string
                      category:
                        type: string
  /api/orgs/01K9DHNRHY9CBXGTASXZH8B3AV/board-members/csv/parse:
    post:
      summary: parse csv
      tags:
        - Board members
      responses: {}
      security:
        - BearerAuth: []
  /api/orgs/01K9DHNRHY9CBXGTASXZH8B3AV/board-members/template:
    get:
      summary: download template
      tags:
        - Board members
      responses: {}
      security:
        - BearerAuth: []
  /api/orgs/{COMPANY_ID}/subscriptions:
    get:
      summary: fetch subscriptions
      tags:
        - Billing and Subscription
      responses: {}
      security:
        - BearerAuth: []
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/{COMPANY_ID}/billing:
    get:
      summary: fetch billings
      tags:
        - Billing and Subscription
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
        - name: page
          in: query
          schema:
            type: integer
      responses: {}
      security:
        - BearerAuth: []
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/billing/invoices/01KBQNXC8APZHPBB0DX38SDG6B/download:
    get:
      summary: download invoice
      tags:
        - Billing and Subscription
      responses: {}
      security:
        - BearerAuth: []
  /api/orgs/{COMPANY_ID}/billing/cards:
    post:
      summary: Add card
      tags:
        - Billing and Subscription
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                subscriptionId:
                  type: string
                callbackUrl:
                  type: string
                  format: uri
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/{COMPANY_ID}/billing/cancel:
    post:
      summary: cancel subscription
      tags:
        - Billing and Subscription
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                subscriptionId:
                  type: string
                reason:
                  type: string
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/{COMPANY_ID}/billing/cards/update:
    put:
      summary: update card
      tags:
        - Billing and Subscription
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                subscriptionId:
                  type: string
                paymentMethodId:
                  type: string
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/{COMPANY_ID}/billing/cards/verify-update:
    get:
      summary: verify update card
      tags:
        - Billing and Subscription
      parameters:
        - name: subscriptionId
          in: query
          schema:
            type: string
        - name: paymentMethodId
          in: query
          schema:
            type: string
      responses: {}
      security:
        - BearerAuth: []
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/{COMPANY_ID}/billing/cards/verify-add:
    get:
      summary: verify add card
      tags:
        - Billing and Subscription
      parameters:
        - name: reference
          in: query
          schema:
            type: string
        - name: appUrl
          in: query
          schema:
            type: string
      responses: {}
      security:
        - BearerAuth: []
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/{COMPANY_ID}/billing/plan-change/initiate:
    post:
      summary: Upgrade plan
      tags:
        - Billing and Subscription
      responses: {}
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                subscriptionId:
                  type: string
                newPlanId:
                  type: string
                type:
                  type: string
                callbackUrl:
                  type: string
                  format: uri
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
  /api/orgs/{COMPANY_ID}/billing/plan-change/confirm:
    get:
      summary: Confirm Upgrade
      tags:
        - Billing and Subscription
      parameters:
        - name: planChangeRequestId
          in: query
          schema:
            type: string
        - name: reference
          in: query
          schema:
            type: string
        - name: redirect
          in: query
          schema:
            type: string
      responses: {}
      security:
        - BearerAuth: []
    parameters:
      - name: COMPANY_ID
        in: path
        required: true
        schema:
          type: string
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
