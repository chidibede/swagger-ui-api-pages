openapi: 3.0.3
info:
  title: DGOVAL API (from Postman export)
  description: OpenAPI spec generated from Postman collection "dgoval export" and extended with team invite endpoints, CSV parsing/bulk invite endpoints, and company branding.
  version: "1.0.3"
servers:
  - url: "{{DGOVAL_BASE_URL}}"
    description: Base URL from Postman environment variable
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    SignupRequest:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
        password:
          type: string
        firstName:
          type: string
        lastName:
          type: string
        hasAcceptedTerms:
          type: boolean
    SigninRequest:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
        password:
          type: string
    ForgotPasswordRequest:
      type: object
      required:
        - email
      properties:
        email:
          type: string
          format: email
    ResetPasswordRequest:
      type: object
      required:
        - email
        - newPassword
      properties:
        email:
          type: string
          format: email
        newPassword:
          type: string
    VerifyOtpRequest:
      type: object
      required:
        - email
        - otp
      properties:
        email:
          type: string
          format: email
        otp:
          type: string
    RefreshTokenResponse:
      type: object
      properties:
        accessToken:
          type: string
        expiresIn:
          type: integer
    PaymentConfirmRequest:
      type: object
      required:
        - paymentStatus
        - providerTxReference
        - paymentId
      properties:
        paymentStatus:
          type: string
        providerTxReference:
          type: string
        paymentId:
          type: string
    SelectPlanRequest:
      type: object
      required:
        - planId
        - companyId
        - userId
        - provider
      properties:
        planId:
          type: string
        companyId:
          type: string
        userId:
          type: string
        provider:
          type: string
    SurveyTemplateMetadata:
      type: object
      properties:
        companyId:
          type: string
        title:
          type: string
        description:
          type: string
    SurveyQuestions:
      type: object
      properties:
        companyId:
          type: string
        questions:
          type: array
          items:
            type: object
            properties:
              position:
                type: integer
              text:
                type: string
              type:
                type: string
              required:
                type: boolean
              skippable:
                type: boolean
              helpText:
                type: string
              likert:
                type: object
                properties:
                  scaleMinLabel:
                    type: string
                  scaleMaxLabel:
                    type: string
                  scalePoints:
                    type: integer
    CompanyCreateRequest:
      type: object
      required:
        - name
      properties:
        logoUrl:
          type: string
          format: uri
        name:
          type: string
        category:
          type: string
        industry:
          type: string
        address:
          type: string
        userId:
          type: string
    # Branding schemas
    PaletteTint:
      type: object
      properties:
        "50":
          type: string
        "100":
          type: string
        "200":
          type: string
        "300":
          type: string
        "400":
          type: string
        "500":
          type: string
        "600":
          type: string
        "700":
          type: string
        "800":
          type: string
        "900":
          type: string
      example:
        "50": "#F0F9FF"
        "100": "#E0F2FE"
        "200": "#BAE6FD"
        "500": "#0A84FF"
        "900": "#00285A"
    PaletteTokens:
      type: object
      properties:
        primary:
          $ref: '#/components/schemas/PaletteTint'
        secondary:
          $ref: '#/components/schemas/PaletteTint'
      example:
        primary:
          "50": "#F0F9FF"
          "500": "#0A84FF"
          "900": "#00285A"
        secondary:
          "50": "#F9FAFB"
          "500": "#111827"
          "900": "#030712"
    CompanyBranding:
      type: object
      properties:
        companyId:
          type: string
        brandName:
          type: string
        tagline:
          type: string
        logoUrl:
          type: string
          format: uri
        faviconUrl:
          type: string
          format: uri
        primaryHex:
          type: string
          description: Primary brand color hex (e.g. #0A84FF)
        secondaryHex:
          type: string
        paletteTokens:
          $ref: '#/components/schemas/PaletteTokens'
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      example:
        companyId: 01K9DA5HM0406JZ1PP322VA1M8
        brandName: DGOVAL
        tagline: "Assess with confidence"
        logoUrl: "https://res.cloudinary.com/.../logo.png"
        faviconUrl: "https://res.cloudinary.com/.../favicon.ico"
        primaryHex: "#0A84FF"
        secondaryHex: "#111827"
        paletteTokens:
          primary:
            "50": "#F0F9FF"
            "500": "#0A84FF"
            "900": "#00285A"
          secondary:
            "50": "#F9FAFB"
            "500": "#111827"
            "900": "#030712"
    TeamInviteCreateRequest:
      type: object
      required:
        - email
        - role
        - firstName
        - lastName
        - loginUrl
      properties:
        email:
          type: string
          format: email
        role:
          type: string
          description: >
            Role to assign to the invited user (e.g. evaluator, evaluation_manager, admin).
        firstName:
          type: string
        lastName:
          type: string
        loginUrl:
          type: string
          format: uri
    TeamInviteResendRequest:
      type: object
      required:
        - userId
        - loginUrl
      properties:
        userId:
          type: string
        loginUrl:
          type: string
          format: uri
    TeamMemberStatusRequest:
      type: object
      required:
        - userId
      properties:
        userId:
          type: string
    FirstLoginSetPasswordRequest:
      type: object
      required:
        - email
        - currentPassword
        - newPassword
      properties:
        email:
          type: string
          format: email
        currentPassword:
          type: string
        newPassword:
          type: string
    TeamMember:
      type: object
      description: A member of the organisation team
      properties:
        userId:
          type: string
        email:
          type: string
          format: email
        firstName:
          type: string
        lastName:
          type: string
        role:
          type: string
        status:
          type: string
          description: e.g. active, deactivated, pending_invite
    BulkInviteMember:
      type: object
      description: Single member for bulk invites (JSON array)
      required:
        - email
      properties:
        first_name:
          type: string
        last_name:
          type: string
        email:
          type: string
          format: email
        role:
          type: string
    BulkInviteRequest:
      type: object
      properties:
        members:
          type: array
          items:
            $ref: '#/components/schemas/BulkInviteMember'
      example:
        members:
          - first_name: Ada
            last_name: Lovelace
            email: ada@example.com
            role: admin
          - first_name: Alan
            last_name: Turing
            email: alan@example.com
            role: evaluator
    ParsedCsvRow:
      type: object
      properties:
        email:
          type: string
          format: email
        firstName:
          type: string
        lastName:
          type: string
        role:
          type: string
        loginUrl:
          type: string
      example:
        email: caracolasstore+1@gmail.com
        firstName: Cara
        lastName: Colas
        role: evaluation_manager
        loginUrl: https://app.dgoval.com/login

paths:
  /auth/signup:
    post:
      summary: Sign up (register a new user)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignupRequest'
            example:
              email: user@example.com
              password: securePassword123
              firstName: John
              lastName: Doe
              hasAcceptedTerms: true
      responses:
        '201':
          description: Created - signup successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
  /auth/signin:
    post:
      summary: Sign in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SigninRequest'
            example:
              email: caracolasstore@gmail.com
              password: Password@weq112
      responses:
        '200':
          description: OK - returns auth tokens / session (implementation dependent)
  /auth/signout:
    post:
      summary: Sign out / revoke session
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SigninRequest'
            example:
              email: chidibede@gmail.com
              password: Password@weq112
      responses:
        '200':
          description: OK
  /auth/forgot-password:
    post:
      summary: Request password reset (send OTP)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ForgotPasswordRequest'
            example:
              email: caracolasstore@gmail.com
      responses:
        '200':
          description: OK - OTP sent
  /auth/reset-password:
    post:
      summary: Reset password (after verifying OTP)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordRequest'
            example:
              email: caracolasstore@gmail.com
              newPassword: Password@weq112
      responses:
        '200':
          description: OK - password reset
  /auth/verify-reset-password:
    post:
      summary: Verify reset OTP
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - otp
                - email
              properties:
                otp:
                  type: string
                email:
                  type: string
            example:
              otp: "810226"
              email: caracolasstore@gmail.com
      responses:
        '200':
          description: OK - OTP verified
  /auth/verify-otp:
    post:
      summary: Verify account OTP
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerifyOtpRequest'
            example:
              email: chidimarshalbede@gmail.com
              otp: "498906"
      responses:
        '200':
          description: OK
  /auth/resend-otp:
    post:
      summary: Resend OTP
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ForgotPasswordRequest'
            example:
              email: caracolasstore@gmail.com
      responses:
        '200':
          description: OTP resent
  /auth/refresh-token:
    post:
      summary: Refresh access token using refresh token cookie
      parameters:
        - in: cookie
          name: refreshToken
          required: true
          schema:
            type: string
          description: Refresh token (cookie). Example shown in Postman headers.
      responses:
        '200':
          description: New access token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RefreshTokenResponse'
  /auth/first-login/set-password:
    post:
      summary: Complete first login by setting a new password
      description: >
        Used by invited users on their first login to replace the temporary password
        with a new one.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FirstLoginSetPasswordRequest'
            example:
              email: caracolasstore+8@gmail.com
              currentPassword: Kjns!vp3B5c&
              newPassword: Password@weq112
      responses:
        '200':
          description: Password updated successfully
        '400':
          description: Invalid current password or request
        '401':
          description: Unauthorized
  /api/payment/confirm:
    post:
      summary: Confirm payment success (webhook/callback style)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentConfirmRequest'
            example:
              paymentStatus: succeeded
              providerTxReference: "6767998765444789765433"
              paymentId: 01K9DHPK9BDNGT0PTJ1Q1206CT
      responses:
        '200':
          description: OK
  /api/payment/plans:
    get:
      summary: Fetch payment plans
      responses:
        '200':
          description: OK - list of plans
  /api/payment/plans/select:
    post:
      summary: Select payment plan
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SelectPlanRequest'
            example:
              planId: 01K9C40J48F6YFQSGHF9JZG9JT
              companyId: 01K9DHNRHY9CBXGTASXZH8B3AV
              userId: 01K9DHJ3ZHRYPBNTQH3NQ5TZBK
              provider: Paystack
      responses:
        '200':
          description: OK
  /api/surveys/templates/{templateId}/metadata:
    patch:
      summary: Update template metadata
      security:
        - bearerAuth: []
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SurveyTemplateMetadata'
            example:
              companyId: 01K9DA5HM0406JZ1PP322VA1M8
              title: Executive Team Evaluation V2
              description: Used for internal assessment of executive performance V2
      responses:
        '200':
          description: OK
  /api/surveys/templates/{templateId}/copy:
    post:
      summary: Copy/Duplicate template
      security:
        - bearerAuth: []
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                companyId:
                  type: string
            example:
              companyId: 01K9DA5HM0406JZ1PP322VA1M8
      responses:
        '200':
          description: OK - copy created
  /api/surveys/templates/{templateId}/questions:
    put:
      summary: Update template questions (replace)
      security:
        - bearerAuth: []
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SurveyQuestions'
      responses:
        '200':
          description: OK
  /api/surveys/templates/{draftId}/autosave:
    put:
      summary: Auto-save template (replace/save draft)
      security:
        - bearerAuth: []
      parameters:
        - name: draftId
          in: path
          required: true
          schema:
            type: string
          description: ID of the draft being auto-saved
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SurveyQuestions'
      responses:
        '200':
          description: OK - draft saved
  /api/surveys/templates/{draftId}/publish:
    post:
      summary: Publish template (publish a draft)
      security:
        - bearerAuth: []
      parameters:
        - name: draftId
          in: path
          required: true
          schema:
            type: string
          description: ID of the draft to publish
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SurveyQuestions'
      responses:
        '200':
          description: OK - draft published
  /api/surveys/backoffice/templates:
    post:
      summary: Create survey template (backoffice)
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SurveyQuestions'
      responses:
        '201':
          description: Created
    get:
      summary: List templates (backoffice) with pagination
      security:
        - bearerAuth: []
      parameters:
        - in: query
          name: page
          schema:
            type: integer
        - in: query
          name: limit
          schema:
            type: integer
        - in: query
          name: sort
          schema:
            type: string
        - in: query
          name: sortBy
          schema:
            type: string
      responses:
        '200':
          description: OK - paginated list
  /api/surveys/{companyId}/templates:
    get:
      summary: List all templates for selected company (or createdBy=me)
      security:
        - bearerAuth: []
      parameters:
        - name: companyId
          in: path
          required: true
          schema:
            type: string
        - in: query
          name: sortBy
          schema:
            type: string
        - in: query
          name: limit
          schema:
            type: integer
        - in: query
          name: page
          schema:
            type: integer
        - in: query
          name: sort
          schema:
            type: string
        - in: query
          name: createdBy
          schema:
            type: string
      responses:
        '200':
          description: OK
  /api/surveys/templates/{templateId}/versions:
    get:
      summary: List template versions
      security:
        - bearerAuth: []
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
  /api/surveys/{templateId}/templates/details:
    get:
      summary: Get template details
      security:
        - bearerAuth: []
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK - template details
  /api/surveys/templates/metadata:
    post:
      summary: Create survey template metadata
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SurveyTemplateMetadata'
      responses:
        '201':
          description: Created
  /api/companies/logo/upload:
    post:
      summary: Upload company logo (form-data file)
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                logo:
                  type: string
                  format: binary
      responses:
        '200':
          description: OK - file uploaded
  /api/companies:
    post:
      summary: Create company
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyCreateRequest'
            example:
              logoUrl: https://res.cloudinary.com/marshalcloudinary/image/upload/v1762257735/dgoval/20221114_161754-ecd4b9b6-7216-452e.jpg
              name: Access Trust bank
              category: Public
              industry: Banking
              address: Festac
              userId: 01K9JCE76PWDEE18WADQDFZ82Z
      responses:
        '201':
          description: Created

  # Branding endpoints
  /api/companies/{companyId}/branding:
    get:
      summary: Get company branding
      security:
        - bearerAuth: []
      parameters:
        - name: companyId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Company branding object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompanyBranding'
        '404':
          description: Company branding not found

    put:
      summary: Update company branding
      security:
        - bearerAuth: []
      parameters:
        - name: companyId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: Update branding fields (partial or full)
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyBranding'
            example:
              brandName: "DGOVAL"
              tagline: "Assess with confidence"
              primaryHex: "#0A84FF"
              secondaryHex: "#111827"
              paletteTokens:
                primary:
                  "50": "#F0F9FF"
                  "500": "#0A84FF"
                  "900": "#00285A"
      responses:
        '200':
          description: Updated branding returned
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompanyBranding'

  /api/companies/{companyId}/branding/logo:
    post:
      summary: Upload company logo (multipart form)
      security:
        - bearerAuth: []
      parameters:
        - name: companyId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                logo:
                  type: string
                  format: binary
      responses:
        '200':
          description: Uploaded — returns `logoUrl`
          content:
            application/json:
              schema:
                type: object
                properties:
                  logoUrl:
                    type: string
                    format: uri
              example:
                logoUrl: "https://res.cloudinary.com/.../logo.png"

  /api/companies/{companyId}/branding/favicon:
    post:
      summary: Upload company favicon (multipart form)
      security:
        - bearerAuth: []
      parameters:
        - name: companyId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                favicon:
                  type: string
                  format: binary
      responses:
        '200':
          description: Uploaded — returns `faviconUrl`
          content:
            application/json:
              schema:
                type: object
                properties:
                  faviconUrl:
                    type: string
                    format: uri
              example:
                faviconUrl: "https://res.cloudinary.com/.../favicon.ico"

  /api/orgs/{companyId}/invites:
    post:
      summary: Create a single team invite
      tags:
        - Team
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: companyId
          required: true
          schema:
            type: string
          description: Organisation / company ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeamInviteCreateRequest'
            example:
              email: caracolasstore+8@gmail.com
              role: evaluator
              firstName: John
              lastName: Colas
              loginUrl: https://app.dgoval.com/login
      responses:
        '201':
          description: Invite created
        '400':
          description: Validation error
        '401':
          description: Unauthorized
  /api/orgs/{companyId}/invites/resend:
    post:
      summary: Resend an existing invite email
      tags:
        - Team
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: companyId
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeamInviteResendRequest'
            example:
              userId: 01KAGFAZGVB3133TFF9S6XARZR
              loginUrl: https://app.dgoval.com/login
      responses:
        '200':
          description: Invite resent
        '400':
          description: Invalid request
        '401':
          description: Unauthorized
  /api/orgs/{companyId}/members/deactivate:
    post:
      summary: Deactivate a team member
      tags:
        - Team
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: companyId
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeamMemberStatusRequest'
            example:
              userId: 01KAGFAZGVB3133TFF9S6XARZR
      responses:
        '200':
          description: Member deactivated
        '400':
          description: Invalid request
        '401':
          description: Unauthorized
  /api/orgs/{companyId}/members/reactivate:
    post:
      summary: Reactivate a team member
      tags:
        - Team
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: companyId
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeamMemberStatusRequest'
            example:
              userId: 01KAGFAZGVB3133TFF9S6XARZR
      responses:
        '200':
          description: Member reactivated
        '400':
          description: Invalid request
        '401':
          description: Unauthorized
  /api/orgs/invites/template:
    get:
      summary: Download CSV invite template
      tags:
        - Team
      security:
        - bearerAuth: []
      responses:
        '200':
          description: CSV template file
          content:
            text/csv:
              schema:
                type: string
                format: binary
        '401':
          description: Unauthorized
  /api/orgs/{companyId}/invites/csv/parse:
    post:
      summary: Parse uploaded CSV of team invites (returns parsed rows + validation)
      tags:
        - Team
      security:
        - bearerAuth: []
      parameters:
        - name: companyId
          in: path
          required: true
          schema:
            type: string
          description: Organisation / company ID
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
            encoding:
              file:
                contentType: text/csv
      responses:
        '200':
          description: Parsed CSV rows and validation result
          content:
            application/json:
              schema:
                type: object
                properties:
                  parsed:
                    type: array
                    items:
                      $ref: '#/components/schemas/ParsedCsvRow'
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        row:
                          type: integer
                        message:
                          type: string
              example:
                parsed:
                  - email: caracolasstore+1@gmail.com
                    firstName: Cara
                    lastName: Colas
                    role: evaluation_manager
                    loginUrl: https://app.dgoval.com/login
                errors: []
        '400':
          description: Invalid CSV or request
        '401':
          description: Unauthorized
  /api/orgs/{companyId}/invites/csv:
    post:
      summary: Bulk send invites — accept JSON array of members OR a CSV body
      tags:
        - Team
      security:
        - bearerAuth: []
      parameters:
        - name: companyId
          in: path
          required: true
          schema:
            type: string
          description: Organisation / company ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkInviteRequest'
            example:
              members:
                - first_name: Ada
                  last_name: Lovelace
                  email: ada@example.com
                  role: admin
                - first_name: Alan
                  last_name: Turing
                  email: alan@example.com
                  role: evaluator
          text/csv:
            schema:
              type: string
              format: binary
            example: |
              email,firstName,lastName,role,loginUrl
              caracolasstore+1@gmail.com,Cara,Colas,evaluation_manager,https://app.dgoval.com/login
      responses:
        '200':
          description: Bulk invites processed (some may fail)
          content:
            application/json:
              schema:
                type: object
                properties:
                  processed:
                    type: integer
                  succeeded:
                    type: integer
                  failed:
                    type: integer
                  details:
                    type: array
                    items:
                      type: object
                      properties:
                        email:
                          type: string
                        status:
                          type: string
                        message:
                          type: string
              example:
                processed: 2
                succeeded: 2
                failed: 0
                details:
                  - email: ada@example.com
                    status: success
                    message: ""
                  - email: alan@example.com
                    status: success
                    message: ""
        '400':
          description: Invalid CSV or request
        '401':
          description: Unauthorized
  /api/orgs/{companyId}/members:
    put:
      summary: Update a team member (e.g. change role)
      tags:
        - Team
      security:
        - bearerAuth: []
      parameters:
        - name: companyId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                email:
                  type: string
                  format: email
                role:
                  type: string
                firstName:
                  type: string
                lastName:
                  type: string
            example:
              userId: 01KAGE0HRSYEGJR05CFEAFGPWA
              email: caracolasstore+8@gmail.com
              role: viewer
              firstName: Bree
              lastName: Colas
      responses:
        '200':
          description: Member updated
        '400':
          description: Validation error
        '401':
          description: Unauthorized
  /api/orgs/{companyId}/team:
    get:
      summary: List organisation team members
      tags:
        - Team
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: companyId
          required: true
          schema:
            type: string
        - in: query
          name: page
          schema:
            type: integer
        - in: query
          name: limit
          schema:
            type: integer
        - in: query
          name: sortBy
          schema:
            type: string
      responses:
        '200':
          description: List of team members
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TeamMember'
        '401':
          description: Unauthorized

security:
  - {}
